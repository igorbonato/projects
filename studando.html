<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcards de Estudo</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom: 3px solid #3498db;
            font-weight: bold;
            color: #3498db;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        textarea {
            width: 100%;
            height: 150px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
            margin-bottom: 15px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .flashcard-container {
            perspective: 1000px;
            margin: 20px 0;
            height: 200px;
        }
        
        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .flashcard-front {
            background-color: #3498db;
            color: white;
        }
        
        .flashcard-back {
            background-color: #2ecc71;
            color: white;
            transform: rotateY(180deg);
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .question-container {
            margin: 20px 0;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .question {
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .option {
            padding: 10px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .option:hover {
            background-color: #f0f0f0;
        }
        
        .option.correct {
            background-color: #2ecc71;
            color: white;
        }
        
        .option.incorrect {
            background-color: #e74c3c;
            color: white;
        }
        
        .result {
            margin-top: 15px;
            font-weight: bold;
            text-align: center;
        }
        
        .hidden {
            display: none;
        }
        
        .instructions {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Flashcards de Estudo</h1>
        
        <div class="tabs">
            <div class="tab active" data-tab="input">Inserir Texto</div>
            <div class="tab" data-tab="flashcards">Flashcards</div>
            <div class="tab" data-tab="quiz">Quiz</div>
        </div>
        
        <div class="tab-content active" id="input-tab">
            <div class="instructions">
                <p><strong>Instruções:</strong> Cole seu texto no formato abaixo:</p>
                <p>Frente do flashcard - Verso do flashcard</p>
                <p>Exemplo: Comando moderno para configurar interfaces de rede (substitui o ifconfig) - IP</p>
            </div>
            <textarea id="text-input" placeholder="Cole seu texto aqui..."></textarea>
            <button id="process-text">Processar Texto</button>
        </div>
        
        <div class="tab-content" id="flashcards-tab">
            <div class="flashcard-container">
                <div class="flashcard">
                    <div class="flashcard-front">
                        <p id="flashcard-front-text">Clique em uma aba para começar</p>
                    </div>
                    <div class="flashcard-back">
                        <p id="flashcard-back-text">Processe um texto primeiro</p>
                    </div>
                </div>
            </div>
            <div class="navigation">
                <button id="prev-card">Anterior</button>
                <span id="card-counter">0/0</span>
                <button id="next-card">Próximo</button>
            </div>
        </div>
        
        <div class="tab-content" id="quiz-tab">
            <div class="question-container">
                <div class="question" id="quiz-question">Processe um texto primeiro para gerar perguntas</div>
                <div class="options" id="quiz-options">
                    <!-- Opções serão geradas dinamicamente -->
                </div>
                <div class="result hidden" id="quiz-result"></div>
            </div>
            <div class="navigation">
                <button id="prev-question">Anterior</button>
                <span id="question-counter">0/0</span>
                <button id="next-question">Próximo</button>
            </div>
        </div>
    </div>

    <script>
        // Variáveis globais
        let flashcards = [];
        let currentCardIndex = 0;
        let quizQuestions = [];
        let currentQuestionIndex = 0;

        // Elementos DOM
        const textInput = document.getElementById('text-input');
        const processTextBtn = document.getElementById('process-text');
        const flashcardFront = document.getElementById('flashcard-front-text');
        const flashcardBack = document.getElementById('flashcard-back-text');
        const flashcardElement = document.querySelector('.flashcard');
        const prevCardBtn = document.getElementById('prev-card');
        const nextCardBtn = document.getElementById('next-card');
        const cardCounter = document.getElementById('card-counter');
        const quizQuestion = document.getElementById('quiz-question');
        const quizOptions = document.getElementById('quiz-options');
        const quizResult = document.getElementById('quiz-result');
        const prevQuestionBtn = document.getElementById('prev-question');
        const nextQuestionBtn = document.getElementById('next-question');
        const questionCounter = document.getElementById('question-counter');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');

        // Processar texto para criar flashcards
        processTextBtn.addEventListener('click', () => {
            const text = textInput.value.trim();
            if (!text) {
                alert('Por favor, insira algum texto.');
                return;
            }
            
            flashcards = [];
            const lines = text.split('\n');
            
            for (const line of lines) {
                const parts = line.split(' - ');
                if (parts.length >= 2) {
                    const front = parts[0].trim();
                    const back = parts[1].trim();
                    flashcards.push({ front, back });
                }
            }
            
            if (flashcards.length === 0) {
                alert('Nenhum flashcard válido encontrado. Verifique o formato do texto.');
                return;
            }
            
            // Gerar perguntas de múltipla escolha
            generateQuizQuestions();
            
            // Atualizar interface
            currentCardIndex = 0;
            updateFlashcard();
            updateQuiz();
            
            // Mudar para a aba de flashcards
            switchTab('flashcards');
            
            alert(`Processado com sucesso! ${flashcards.length} flashcards criados.`);
        });

        // Gerar perguntas de múltipla escolha
        function generateQuizQuestions() {
            quizQuestions = [];
            
            for (const card of flashcards) {
                // Criar opções incorretas (respostas de outros flashcards)
                const incorrectOptions = [];
                const otherCards = flashcards.filter(c => c.back !== card.back);
                
                // Embaralhar outros flashcards
                const shuffled = [...otherCards].sort(() => 0.5 - Math.random());
                
                // Pegar até 3 opções incorretas
                for (let i = 0; i < Math.min(3, shuffled.length); i++) {
                    incorrectOptions.push(shuffled[i].back);
                }
                
                // Criar array com todas as opções
                const allOptions = [card.back, ...incorrectOptions];
                
                // Embaralhar as opções
                const shuffledOptions = [...allOptions].sort(() => 0.5 - Math.random());
                
                quizQuestions.push({
                    question: card.front,
                    correctAnswer: card.back,
                    options: shuffledOptions
                });
            }
        }

        // Atualizar flashcard atual
        function updateFlashcard() {
            if (flashcards.length === 0) {
                flashcardFront.textContent = 'Nenhum flashcard disponível';
                flashcardBack.textContent = 'Processe um texto primeiro';
                cardCounter.textContent = '0/0';
                return;
            }
            
            const currentCard = flashcards[currentCardIndex];
            flashcardFront.textContent = currentCard.front;
            flashcardBack.textContent = currentCard.back;
            cardCounter.textContent = `${currentCardIndex + 1}/${flashcards.length}`;
            
            // Resetar rotação do flashcard
            flashcardElement.classList.remove('flipped');
        }

        // Atualizar pergunta de quiz atual
        function updateQuiz() {
            if (quizQuestions.length === 0) {
                quizQuestion.textContent = 'Nenhuma pergunta disponível';
                quizOptions.innerHTML = '';
                questionCounter.textContent = '0/0';
                return;
            }
            
            const currentQuestion = quizQuestions[currentQuestionIndex];
            quizQuestion.textContent = currentQuestion.question;
            questionCounter.textContent = `${currentQuestionIndex + 1}/${quizQuestions.length}`;
            
            // Limpar opções anteriores
            quizOptions.innerHTML = '';
            quizResult.classList.add('hidden');
            
            // Adicionar novas opções
            currentQuestion.options.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => checkAnswer(option, currentQuestion.correctAnswer, optionElement));
                quizOptions.appendChild(optionElement);
            });
        }

        // Verificar resposta do quiz
        function checkAnswer(selected, correct, element) {
            // Desabilitar todas as opções
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mostrar resultado
            quizResult.classList.remove('hidden');
            
            if (selected === correct) {
                element.classList.add('correct');
                quizResult.textContent = 'Resposta Correta!';
                quizResult.style.color = '#2ecc71';
            } else {
                element.classList.add('incorrect');
                quizResult.textContent = `Resposta Incorreta. A resposta correta é: ${correct}`;
                quizResult.style.color = '#e74c3c';
                
                // Destacar a resposta correta
                allOptions.forEach(opt => {
                    if (opt.textContent === correct) {
                        opt.classList.add('correct');
                    }
                });
            }
        }

        // Navegação entre flashcards
        prevCardBtn.addEventListener('click', () => {
            if (flashcards.length === 0) return;
            currentCardIndex = (currentCardIndex - 1 + flashcards.length) % flashcards.length;
            updateFlashcard();
        });

        nextCardBtn.addEventListener('click', () => {
            if (flashcards.length === 0) return;
            currentCardIndex = (currentCardIndex + 1) % flashcards.length;
            updateFlashcard();
        });

        // Navegação entre perguntas do quiz
        prevQuestionBtn.addEventListener('click', () => {
            if (quizQuestions.length === 0) return;
            currentQuestionIndex = (currentQuestionIndex - 1 + quizQuestions.length) % quizQuestions.length;
            updateQuiz();
        });

        nextQuestionBtn.addEventListener('click', () => {
            if (quizQuestions.length === 0) return;
            currentQuestionIndex = (currentQuestionIndex + 1) % quizQuestions.length;
            updateQuiz();
        });

        // Alternar entre abas
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                switchTab(tabId);
            });
        });

        function switchTab(tabId) {
            // Remover classe active de todas as abas e conteúdos
            tabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Adicionar classe active à aba e conteúdo selecionados
            document.querySelector(`.tab[data-tab="${tabId}"]`).classList.add('active');
            document.getElementById(`${tabId}-tab`).classList.add('active');
        }

        // Virar flashcard ao clicar
        flashcardElement.addEventListener('click', () => {
            flashcardElement.classList.toggle('flipped');
        });

        // Inicializar
        updateFlashcard();
        updateQuiz();
    </script>
</body>
</html>
